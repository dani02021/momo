<html>
<head>
<title>Otse4ki</title>
</head>
<body>
<label for="n">n:</label><br>
<input id="n" type="number" placeholder="n" min="2" max="1000" onchange="makeInputs(this);"><br>
<div id="circles"></div>
<button type="button" id="btn">Generate</button><br><br>
<label id="count" type="number">Length:</label><br>
<label id="unique" type="number">Unique distances num:</label><br><br>
<canvas id="canvas"></canvas>
</body>

<script>
var maxpointa, maxpointb = 0

class Point {
	constructor(x, y) {
		this.x = x;
		this.y = y;
	}

  get disabled() {
    return this._disabled;
  }

  set disabled(disable) {
    this._disabled = disable;
  }
}

document.getElementById("btn").onclick = function() {
  var canvas = document.getElementById('canvas');
  var ctx = canvas.getContext('2d');

  var n = parseInt(document.getElementById('n').value)
  var w = canvas.width = 600;
  var h = canvas.height = 600;

  var CENTER = (w+h) / 4
  var MULTI = 10

  if(n < 2 || n > 1_000) {
    alert('error in args: 1<n<1 001');
    return;
  }

  with(ctx) {
	  for (elem of document.getElementById('circles').childNodes) {
		  if(elem.tagName.toLowerCase() !== 'input')
		  	continue;

		  vals = elem.value.split(' ')
		  x = vals[0]
		  y = vals[1]

		  alert(x)

		  fillRect(CENTER, CENTER, 3, 3)
		  fillRect(CENTER + 10, CENTER, 3, 3)
		  //fillRect(parseInt(x) * MULTI + CENTER, parseInt(y) * MULTI + CENTER, 3, 3)
	  }
  }
}

function algo(ctx, a) {
		indexPoint = 0;
		
    points = new Array((a+1)*(a+1))
		
		for(x = 0; x <= a; x++) {
			for(y = 0; y <= a; y++) {
				if(y > x)
					continue;
				points[++indexPoint] = new Point(x, y);
			}
		}

    max = 0;
		var uniques = new Set();

    for(i = 0; i < indexPoint; i++) {
			a1 = points[i];
			
			for(z = 0; z < indexPoint; z++) {
				b = points[z];
				
				if(a1 == null || b == null || a1.disabled || b.disabled)
					continue;
				
				if(a1.x == b.x || a1.y == b.y)
					continue;
				
				xpos = Math.abs(a1.x - b.x);
				ypos = Math.abs(a1.y - b.y);
				dist = isPerfectSquare( parseInt(xpos * xpos + ypos * ypos));
				
				if(dist == -1)
					continue;
				
				distI = parseInt(dist);

				if(max < distI) {
          globalThis.maxpointa = a1.x;
          globalThis.maxpointb = a1.y;
          globalThis.maxpointc = b.x;
          globalThis.maxpointd = b.y;
          max = distI;
        }
				
				uniques.add(distI);
			}
			if(a1 != null)
				a1.disabled = true;
		}

    document.getElementById('count').innerHTML = 'Length: ' + max + ' meters'
    document.getElementById('unique').innerHTML = 'Unique distances num: ' + uniques.size
}

function makeInputs(elem) {
	val = parseInt(elem.value)

	for(i = 0; i < val; i++) {
		div = document.getElementById('circles')
		inp = document.createElement('input')
		inp.name = "circle"
		br = document.createElement('br')
		div.appendChild(inp)
		div.appendChild(br)
	}
}
</script>
</body>
</html>
